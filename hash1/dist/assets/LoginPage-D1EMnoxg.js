import{j as e}from"./animations-BeX6PTQB.js";import{r as a,u as f,R as j,L as b}from"./router-CbkCOwDf.js";import{H as w,W as v,a as N,b as y,c as k}from"./Header-DKwDvOWl.js";import{A as F}from"./index-B3vYaEZk.js";import"./vendor-DJG_os-6.js";import"./icons-DUf0FzR3.js";const c=j.memo(({icon:t,error:l,...s})=>e.jsxs("div",{children:[e.jsxs("label",{htmlFor:s.name,className:"block mb-2 text-sm font-medium text-neutral-200",children:[s.label,e.jsx("span",{className:"ml-1 text-red-400",children:"*"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 z-10 flex items-center pl-4 pointer-events-none",children:e.jsx(t,{className:`w-5 h-5 transition-colors duration-200 ${l?"text-red-400":"text-neutral-400 group-focus-within:text-blue-400"}`})}),e.jsx("input",{...s,className:`w-full pl-12 pr-4 py-4 bg-white/5 border-2 border-white/10 rounded-2xl text-white placeholder-neutral-400 
            focus:outline-none focus:border-blue-400 focus:ring-4 focus:ring-blue-400/20 
            transition-all duration-200
            hover:border-white/20 hover:bg-white/10
            ${l?"border-red-400 focus:border-red-400 focus:ring-red-400/20":""}`}),l&&e.jsx("div",{className:"absolute inset-0 border-2 opacity-50 pointer-events-none rounded-2xl border-red-400/50"})]})]}));c.displayName="FormInput";const D=()=>{const[t,l]=a.useState({email:"",password:""}),[s,n]=a.useState(""),[i,u]=a.useState(!1),{login:m}=a.useContext(F),x=f(),h=a.useCallback(d=>{const{name:r,value:o}=d.target;l(g=>({...g,[r]:o})),n("")},[]),p=a.useCallback(async d=>{if(d.preventDefault(),!t.email||!t.password){n("Email and password are required.");return}u(!0),n("");try{const r=await fetch("http://localhost:3000/api/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await r.json();if(!r.ok)throw new Error(o.error||"Login failed. Please check your credentials.");m(o.data.token,o.data.user),x("/")}catch(r){n(r.message),console.error("Login Error:",r)}finally{u(!1)}},[t,m,x]);return e.jsxs("div",{className:"relative min-h-screen text-white bg-background",children:[e.jsx(w,{}),e.jsxs("div",{className:"fixed inset-0 overflow-hidden opacity-50 pointer-events-none",children:[e.jsx("div",{className:"absolute rounded-full top-20 left-20 w-72 h-72 bg-blue-500/5 blur-3xl"}),e.jsx("div",{className:"absolute rounded-full bottom-20 right-20 w-96 h-96 bg-purple-500/5 blur-3xl"})]}),e.jsx(v,{className:"flex items-center justify-center min-h-screen px-4 py-12",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"p-4 border bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-3xl border-white/10",children:e.jsx("div",{className:"flex items-center justify-center w-16 h-16 text-4xl",children:"üîê"})})}),e.jsx("h1",{className:"mb-4 text-4xl font-black text-transparent md:text-5xl lg:text-6xl bg-gradient-to-r from-white via-blue-200 to-purple-200 bg-clip-text",children:"Welcome Back"}),e.jsx("p",{className:"text-lg text-neutral-300",children:"Sign in to access your INFOTREK'25 account"})]}),e.jsxs("div",{className:"p-8 border shadow-2xl bg-gradient-to-br from-white/10 to-white/5 border-white/20 rounded-3xl md:p-10",children:[s&&e.jsx("div",{className:"p-4 mb-6 text-red-300 transition-all duration-200 border rounded-2xl bg-red-500/10 border-red-500/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-2xl",children:"‚ùå"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:"Login Failed"}),e.jsx("div",{className:"text-sm",children:s})]})]})}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsx(c,{icon:N,name:"email",type:"email",label:"Email Address",placeholder:"you@example.com",value:t.email,onChange:h,required:!0,error:s&&!t.email}),e.jsx(c,{icon:y,name:"password",type:"password",label:"Password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",value:t.password,onChange:h,required:!0,error:s&&!t.password}),e.jsx("div",{className:"text-right",children:e.jsx(b,{to:"/forgot-password",className:"text-sm text-blue-400 transition-colors duration-200 hover:text-blue-300",children:"Forgot your password?"})}),e.jsx("button",{type:"submit",disabled:i,className:`w-full py-4 px-6 rounded-2xl font-bold text-white text-lg transition-all duration-200 ${i?"bg-neutral-600 text-neutral-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-500 shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30 hover:scale-[1.02]"}`,children:i?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("div",{className:"w-5 h-5 border-2 rounded-full border-white/30 border-t-white animate-spin"}),"Signing In..."]}):e.jsxs("div",{className:"flex items-center justify-center gap-3",children:["Sign In",e.jsx(k,{className:"w-6 h-6"})]})})]}),e.jsxs("p",{className:"mt-8 text-center text-neutral-400",children:["Don't have an account?"," ",e.jsx(b,{to:"/signup",className:"font-semibold text-blue-400 transition-colors duration-200 hover:text-blue-300",children:"Create Account"})]})]})]})})]})};export{D as default};
